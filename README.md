# Table of Contents
1. [Project Overview](#project-overview)
2. [Python](#python)
3. [Jupyter Notebook](#jupyter-notebook)

# Project Overview

![Project Overview](/images/project_overview.jpg)

# Python

`trackRequester.py` scrapes song information from various Spotify playlists categorized by different moods and exporting it as a CSV file for further analysis.

## Features 

- **Spotify API Integration**: Uses the Spotify Web API to fetch playlist tracks, artist information, and audio features.
- **Categorized Playlists**: Processes playlists grouped by different moods.
- **Data Extraction**: Extracts detailed track information including title, artist, album, release year, genres, popularity, and various audio features.
- **Labeling**: Encodes each song's respective moods to create a labeled dataset.
- **CSV Export**: Saves the extracted data into mood-specific CSV files and a combined CSV file.

## How It Works

1. **Authentication**:
    - The script uses `SpotifyOAuth` from the `spotipy` library to authenticate with the Spotify API using your credentials.

2. **Playlist URLs**:
    - The script contains predefined lists of Spotify playlist URLs categorized by mood. 

3. **Data Retrieval**:
    - The `get_all_playlist_tracks` function retrieves all tracks from each playlist, including pagination handling.
    - For each track, it fetches detailed information such as title, artist, album, release year, genres, popularity, and audio features.
    - Artist information is cached to minimize API requests.

4. **Data Storage**:
    - The extracted data is stored in lists and then converted into a Pandas DataFrame.
    - The DataFrame is saved into mood-specific CSV files and a combined CSV file.
  
## Output

The script will generate CSV files for each mood category and a combined CSV file named `all_playlists_mood_combined.csv` as shown in the image below.

![Output](/images/csv.jpg)

As expected, the combined data is messy with a handful of null values and duplicated rows. This will be handled during data cleaning in the jupyter notebook file.
  
# Jupyter Notebook

`moodClassifier.ipynb` uses the data from the exported CSV file to perform exploratory data analysis and build machine learning models to classify songs into different moods. For a more detailed information, see `moodClassifier.ipynb` directly.

## How It Works

1. **Data Import**:
    - The notebook starts by importing the combined CSV file (`all_playlists_mood_combined.csv`) generated by `trackRequester.py`.

2. **Data Cleaning**:
    - Handles missing values, duplicates, and inconsistent data.
    - Standardizes column names and drops unnecessary columns.

3. **Exploratory Data Analysis**:
    - Performs univariate and bivariate analysis to understand the distribution and relationships of audio features.
    - Visualizes data using pair plots, heatmaps, and other plots.

4. **Feature Engineering**:
    - Encodes categorical variables and creates new features.

5. **Model Training**:
    - Splits the data into training and testing sets.
    - Uses SMOTE to handle class imbalance.
    - Trains multiple machine learning models (Random Forest, SVM, XGBoost) using hyperparameter tuning.

6. **Model Evaluation**:
    - Evaluates the models using accuracy, precision, recall, and confusion matrices.
